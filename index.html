<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <meta name="description"
      content="Cripta 47: shooter top-down en una cripta oscura. Recolecta las 3 llaves, sobrevive a la horda y escapa antes de que el tiempo se agote."
    />
    <title>Cripta 47: El Amanecer de las Sombras</title>
    <link rel="stylesheet" href="./styles/style.css" />
  </head>
  <body>
    <canvas id="game" width="960" height="540"></canvas>

    <div id="game-container">
      <div id="menu-screen" class="game-screen visible">
        <div class="menu-inner">
          <div class="title-cluster">
            <h1 class="game-title" data-text="CRIPTA 47">CRIPTA 47</h1>
            <h2 class="game-sub">El Amanecer de las Sombras</h2>
          </div>
          <div class="slogan">Ilumina. Sobrevive.</div>
          <button
            id="start-button"
            class="start-btn"
            aria-label="Iniciar Misi칩n"
          >
            <span class="btn-bg"></span>
            <span class="btn-text">INICIAR MISI칍N</span>
          </button>
          <button id="instructions-button" class="secondary-btn">
            INSTRUCCIONES
          </button>
        </div>
        <div class="ambient-lights">
          <div class="al orb1"></div>
          <div class="al orb2"></div>
          <div class="al orb3"></div>
        </div>
        <div class="scanlines"></div>
        <div class="noise-layer"></div>
      </div>

      <div id="hud" class="hidden" aria-live="polite" aria-atomic="true">
        <div class="hud-left">
          <div class="hearts" aria-label="Vidas">
            <span class="heart" data-i="1"></span>
            <span class="heart" data-i="2"></span>
            <span class="heart" data-i="3"></span>
          </div>
          <div class="keys" aria-label="Llaves">
            <span class="key" data-i="1"></span>
            <span class="key" data-i="2"></span>
            <span class="key" data-i="3"></span>
          </div>
        </div>
        <div class="hud-center">
          <div id="hud-time" class="timer-badge">05:00</div>
        </div>
        <div class="hud-right">
          <div id="hud-score" class="timer-badge">PUNTOS: 0</div>
        </div>
        <div class="hud-bottom-left">
          <div id="hud-mute" class="mute-indicator hidden" aria-label="Sonido silenciado">游댆</div>
        </div>
        <div id="hud-alert" class="hidden" role="status">춰ADVERTENCIA! 춰La horda se est치 volviendo m치s r치pida!</div>
      </div>

      <!-- Pantalla de instrucciones -->
      <div id="instructions-screen" class="game-screen hidden">
        <div class="instructions-inner">
          <h1>INSTRUCCIONES</h1>
          <p class="instr-section-title">Objetivo</p>
          <p>
            Explora la cripta, <strong>recolecta las 3 llaves</strong> dispersas por el laberinto
            y luego regresa al <strong>punto de partida</strong> para abrir la puerta de escape.
            Al conseguir las 3 llaves obtendr치s tiempo extra para lograrlo antes de que el
            contador llegue a cero.
          </p>

          <p class="instr-section-title">Controles</p>
          <ul class="instr-list">
            <li><strong>W A S D</strong> &mdash; mover al soldado.</li>
            <li><strong>Mouse</strong> &mdash; apuntar la linterna y el arma.</li>
            <li><strong>Clic izquierdo</strong> &mdash; disparar.</li>
            <li><strong>Esc</strong> &mdash; pausar/continuar la partida.</li>
            <li><strong>R</strong> &mdash; silenciar / activar el sonido.</li>
          </ul>

          <p class="instr-section-title">Luz, enemigos y HUD</p>
          <p>
            Los zombies son m치s r치pidos en la <strong>oscuridad</strong> y m치s lentos cuando
            est치n dentro del <strong>cono de luz</strong>. Solo puedes da침arlos con balas si est치n iluminados.
          </p>
          <p>
            Arriba a la izquierda ver치s tus <strong>vidas</strong> y <strong>llaves</strong>, en el centro el <strong>tiempo</strong>
            restante y arriba a la derecha tu <strong>puntuaci칩n</strong>. Si el sonido est치 silenciado, se mostrar치
            un icono de altavoz tachado en la esquina inferior izquierda.
          </p>

          <div class="instr-buttons">
            <button id="back-to-menu-button" class="secondary-btn">VOLVER AL MEN칔</button>
            <button id="start-from-instructions-button" class="start-btn small">EMPEZAR PARTIDA</button>
          </div>
        </div>
        <div class="scanlines"></div>
        <div class="noise-layer"></div>
      </div>

      <div id="gameover-screen" class="game-screen hidden">
        <div class="gameover-inner">
          <h1>GAME OVER</h1>
          <p id="gameover-message">Has sido eliminado.</p>
          <div id="gameover-score-summary"></div>
          <div class="gameover-buttons">
            <button id="restart-button" class="secondary-btn">MEN칔 PRINCIPAL</button>
          </div>
        </div>
        <div class="scanlines"></div>
        <div class="noise-layer"></div>
      </div>

      <!-- Pantalla de pausa -->
      <div id="pause-screen" class="overlay-screen hidden">
        <div class="pause-inner">
          <h1>PAUSA</h1>
          <p>El tiempo se ha detenido. Respira hondo y contin칰a la misi칩n.</p>
          <div class="pause-buttons">
            <button id="resume-button" class="start-btn small">CONTINUAR</button>
            <button id="pause-to-menu-button" class="secondary-btn">VOLVER AL MEN칔</button>
          </div>
        </div>
      </div>
    </div>

    <div id="alert-layer"></div>

    <script type="module" src="./main.js"></script>
  </body>
</html>
